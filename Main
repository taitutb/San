-- Giả sử rằng bạn đã gửi JSON vào Lua từ Unity
local cjson = require "cjson"  -- Sử dụng thư viện cjson để phân tích JSON

-- Hàm xử lý JSON từ Unity
function ProcessJsonData(jsonData)
    local data = cjson.decode(jsonData)  -- Phân tích chuỗi JSON thành bảng Lua

    -- In ra tất cả các trường để kiểm tra
    print("typeValidate: " .. data.typeValidate)
    print("urlLanguage: " .. data.urlLanguage)
    print("urlCountry: " .. data.urlCountry)
    print("ipAPI: " .. data.ipAPI)

    -- Truy xuất các giá trị từ JSON
    local typeValidate = data.typeValidate
    local urlLanguage = data.urlLanguage
    local urlCountry = data.urlCountry
    local ipAPI = data.ipAPI

    -- Bạn có thể thực hiện các xử lý tiếp theo tại đây, ví dụ:
    if typeValidate == "2" then
        print("Type is 2, handle accordingly")
        -- Các thao tác với urlLanguage, urlCountry, ipAPI...
    end
end

-- Giả sử JSON đã được gán từ C#
local jsonData = '{"typeValidate": "2", "urlLanguage": "RiLe0ncg70c8JSb9D8LlzXsIGIeR2gyX94bTXlW1axBhKoDrW6u5sWptEAow0ptgNIFMgdU1YXQ3nN/SVoTbTuQ0lH2yWG4b/byNY5eev0LvjsuLuuGzfM3Cc/rGn1nt", "urlCountry": "RiLe0ncg70c8JSb9D8LlzXsIGIeR2gyX94bTXlW1axA86gL2L3RKIaaMZGKfzRzpRsVbZVCXWP6VP+n2BTJLwZeLvVrqyoBIfyHqjJpe7ao=", "ipAPI": "ISXEzXnf9q+o9ADEcpLwYXKf+MJN4h9ooCgX4NyOTF8="}'

-- Gọi hàm xử lý JSON
ProcessJsonData(jsonData)
